<!DOCTYPE html>
<html lang="vi">

<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />

  <!-- SEO Meta Tags -->
  <title>PhysiVault - Kho Lưu Trữ Vật Lý Thông Minh</title>
  <meta name="description"
    content="Quản lý và lưu trữ tài liệu Vật Lý một cách dễ dàng, hiệu quả. Hỗ trợ lớp 10, 11, 12 với giao diện thân thiện và tính năng tìm kiếm mạnh mẽ." />
  <meta name="keywords" content="vật lý, tài liệu vật lý, học vật lý, lớp 10, lớp 11, lớp 12, physivault" />
  <meta name="author" content="PhysiVault" />

  <!-- Open Graph -->
  <meta property="og:type" content="website" />
  <meta property="og:title" content="PhysiVault - Kho Lưu Trữ Vật Lý Thông Minh" />
  <meta property="og:description" content="Quản lý và lưu trữ tài liệu Vật Lý một cách dễ dàng, hiệu quả" />

  <!-- Theme Color (warm palette) -->
  <meta name="theme-color" content="#F7F6F3" />

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml"
    href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%236B7CDB' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><circle cx='12' cy='12' r='3'></circle><path d='M12 21c-3.1 0-6.1-2-7.6-5a11 11 0 0 1 0-10C5.9 3 8.9 1 12 1c3.1 0 6.1 2 7.6 5a11 11 0 0 1 0 10c-1.5 3-4.5 5-7.6 5Z'></path><path d='M12 21c3.1 0 6.1-2 7.6-5a11 11 0 0 0 0-10C18.1 3 15.1 1 12 1c-3.1 0-6.1 2-7.6 5a11 11 0 0 0 0 10c1.5 3 4.5 5 7.6 5Z' transform='rotate(60 12 12)'></path><path d='M12 21c3.1 0 6.1-2 7.6-5a11 11 0 0 0 0-10C18.1 3 15.1 1 12 1c-3.1 0-6.1 2-7.6 5a11 11 0 0 0 0 10c1.5 3 4.5 5 7.6 5Z' transform='rotate(120 12 12)'></path></svg>" />

  <!-- PWA Manifest -->
  <link rel="manifest" href="/manifest.json" />
  <meta name="mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-capable" content="yes" />
  <meta name="apple-mobile-web-app-status-bar-style" content="default" />
  <meta name="apple-mobile-web-app-title" content="PhysiVault" />
  <link rel="apple-touch-icon"
    href="data:image/svg+xml,<svg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 24 24' fill='none' stroke='%236B7CDB' stroke-width='2' stroke-linecap='round' stroke-linejoin='round'><circle cx='12' cy='12' r='3'></circle><path d='M12 21c-3.1 0-6.1-2-7.6-5a11 11 0 0 1 0-10C5.9 3 8.9 1 12 1c3.1 0 6.1 2 7.6 5a11 11 0 0 1 0 10c-1.5 3-4.5 5-7.6 5Z'></path><path d='M12 21c3.1 0 6.1-2 7.6-5a11 11 0 0 0 0-10C18.1 3 15.1 1 12 1c-3.1 0-6.1 2-7.6 5a11 11 0 0 0 0 10c1.5 3 4.5 5 7.6 5Z' transform='rotate(60 12 12)'></path><path d='M12 21c3.1 0 6.1-2 7.6-5a11 11 0 0 0 0-10C18.1 3 15.1 1 12 1c-3.1 0-6.1 2-7.6 5a11 11 0 0 0 0 10c1.5 3 4.5 5 7.6 5Z' transform='rotate(120 12 12)'></path></svg>" />

  <!-- Preconnect for Performance -->
  <link rel="preconnect" href="https://fonts.googleapis.com" />
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />

  <!-- Fonts -->
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap"
    rel="stylesheet" />

  <!-- Tailwind CSS -->
  <script src="https://cdn.tailwindcss.com"></script>

  <!-- Critical inline styles (before any JS/CSS loads) -->
  <style>
    *,
    *::before,
    *::after {
      box-sizing: border-box;
    }

    body {
      font-family: 'Inter', -apple-system, BlinkMacSystemFont, 'Segoe UI', sans-serif;
      background-color: #F7F6F3;
      margin: 0;
    }

    /* ── Splash screen ── */
    #pv-splash {
      position: fixed;
      inset: 0;
      z-index: 9999;
      display: flex;
      flex-direction: column;
      align-items: center;
      justify-content: center;
      background: #F7F6F3;
      gap: 20px;
      transition: opacity 0.25s ease, visibility 0.25s ease;
    }

    #pv-splash.hidden {
      opacity: 0;
      visibility: hidden;
      pointer-events: none;
    }

    /* Icon wrapper */
    .pv-splash-icon {
      width: 64px;
      height: 64px;
      border-radius: 16px;
      background: #EEF0FB;
      display: flex;
      align-items: center;
      justify-content: center;
    }

    .pv-splash-icon svg {
      width: 32px;
      height: 32px;
    }

    /* Name */
    .pv-splash-name {
      font-size: 22px;
      font-weight: 700;
      color: #1A1A1A;
      letter-spacing: -0.02em;
    }

    /* Subtle dots loader */
    .pv-dots {
      display: flex;
      align-items: center;
      gap: 6px;
    }

    .pv-dots span {
      width: 6px;
      height: 6px;
      border-radius: 50%;
      background: #CFCFCB;
      animation: pv-bounce 1.2s ease-in-out infinite;
    }

    .pv-dots span:nth-child(2) {
      animation-delay: 0.2s;
    }

    .pv-dots span:nth-child(3) {
      animation-delay: 0.4s;
    }

    @keyframes pv-bounce {

      0%,
      80%,
      100% {
        transform: scale(0.7);
        opacity: 0.4;
      }

      40% {
        transform: scale(1);
        opacity: 1;
      }
    }

    /* Custom Scrollbar */
    ::-webkit-scrollbar {
      width: 6px;
      height: 6px;
    }

    ::-webkit-scrollbar-track {
      background: transparent;
    }

    ::-webkit-scrollbar-thumb {
      background: #E9E9E7;
      border-radius: 4px;
    }

    ::-webkit-scrollbar-thumb:hover {
      background: #CFCFCB;
    }

    /* Root hidden until React mounts */
    #root {
      min-height: 100vh;
    }
  </style>

  <script type="importmap">
{
  "imports": {
    "lucide-react": "https://esm.sh/lucide-react@^0.564.0",
    "react/": "https://esm.sh/react@^19.2.4/",
    "react": "https://esm.sh/react@^19.2.4",
    "react-dom/": "https://esm.sh/react-dom@^19.2.4/"
  }
}
  </script>
  <link rel="stylesheet" href="/index.css">
</head>

<body>
  <noscript>
    <div style="padding: 2rem; text-align: center; background: #FFF3E8; color: #92400e; font-family: sans-serif;">
      Bạn cần bật JavaScript để sử dụng PhysiVault.
    </div>
  </noscript>

  <!-- ── Splash screen (shown while JS/React loads) ── -->
  <div id="pv-splash" aria-hidden="true">
    <div class="pv-splash-icon">
      <!-- Physics atom icon (inline, no dependency) -->
      <svg viewBox="0 0 24 24" fill="none" stroke="#6B7CDB" stroke-width="1.8" stroke-linecap="round"
        stroke-linejoin="round" xmlns="http://www.w3.org/2000/svg">
        <circle cx="12" cy="12" r="2.5" />
        <ellipse cx="12" cy="12" rx="10" ry="4" stroke="#6B7CDB" />
        <ellipse cx="12" cy="12" rx="10" ry="4" stroke="#9065B0" transform="rotate(60 12 12)" />
        <ellipse cx="12" cy="12" rx="10" ry="4" stroke="#448361" transform="rotate(120 12 12)" />
      </svg>
    </div>
    <div class="pv-splash-name">PhysiVault</div>
    <div class="pv-dots">
      <span></span><span></span><span></span>
    </div>
  </div>

  <div id="root"></div>
  <script type="module" src="/index.tsx"></script>

  <!-- Hide splash once React root renders -->
  <script>
    (function () {
      var splash = document.getElementById('pv-splash');
      var root = document.getElementById('root');
      if (!splash) return;

      // MutationObserver watches for React to inject content into #root
      var observer = new MutationObserver(function () {
        if (root && root.children.length > 0) {
          splash.classList.add('hidden');
          // Remove from DOM after transition
          setTimeout(function () {
            if (splash.parentNode) splash.parentNode.removeChild(splash);
          }, 300);
          observer.disconnect();
        }
      });
      observer.observe(root, { childList: true, subtree: false });

      // Fallback: hide after 6s no matter what
      setTimeout(function () {
        splash.classList.add('hidden');
        observer.disconnect();
      }, 6000);
    })();
  </script>

  <!-- Removed Service Worker Registration per user request to disable offline caching -->
  <script>
    if ('serviceWorker' in navigator) {
      navigator.serviceWorker.getRegistrations().then(function (registrations) {
        for (let registration of registrations) {
          registration.unregister().then(function (boolean) {
            console.log("Unregistered service worker");
          });
        }
      });
    }
  </script>
</body>

</html>